import{_ as d,b as p,o as k,c as u,a as e,t as _,g as a,d as s,v as c,k as l,w as z,n as y,h}from"./index-193cd5e6.js";const T={data(){return{titlePlaceholder:"Problem z logowaniem do sieci ...",textPlaceholder:"Od pewnego czasu doświadczam trudności z logowaniem się do sieci firmowej. Po wprowadzeniu danych logowania otrzymuję komunikat o błędzie uwierzytelniania ...",createTicketErrorTime:null,response:"",ticketSentVar:!1,newTicket:{title:"",description:"",ticketTypeId:0,priorityId:0},ticketTypeId:[{type:"Soft"},{type:"Hard"}]}},mounted(){this.ticketSent()},methods:{async createTicket(){const r=localStorage.getItem("jwtToken");if(r)if(this.newTicket.title==""||this.newTicket.description==""||this.newTicket.ticketTypeId==0||this.newTicket.priorityId==0)this.createTicketError();else try{const t=await p.post("https://servicedeskinz2023.azurewebsites.net/api/tickets",this.newTicket,{headers:{Authorization:"Bearer "+r}}).then(localStorage.setItem("isSent",!0),setTimeout(()=>{this.$router.go("/new-ticket")},500))}catch(t){console.log(this.newTicket),console.error(t)}},createTicketError(){this.createTicketErrorTime&&clearTimeout(this.createTicketErrorTime),this.response="Wypełnij wszystkie pola.",this.$refs.createTicketError.style.top="100px",this.$refs.createTicketError.style.opacity=1,this.createTicketErrorTime=setTimeout(()=>{this.$refs.createTicketError.style.top="-50px",this.$refs.createTicketError.style.opacity=0},3e3)},ticketSent(){localStorage.getItem("isSent")=="true"?(localStorage.setItem("isSent",!1),this.ticketSentVar=!0,setTimeout(()=>{this.ticketSentVar=!1},3e3)):this.ticketSentVar=!1}}},w={class:"create-ticket"},m=e("h1",null,"Utwórz zgłoszenie",-1),g={class:"description"},f=e("p",null,"Tytuł zgłoszenia:",-1),b=["placeholder"],v={class:"create-ticket__form-priority"},S=e("option",{value:"0",disabled:"",default:""},"Wybierz",-1),j=e("option",{value:"1"},"Niski",-1),x=e("option",{value:"2"},"Średni",-1),I=e("option",{value:"3"},"Wysoki",-1),E=[S,j,x,I],V={class:"create-ticket__form-type"},P=e("p",null,"Rodzaj zgłoszenia:",-1),U=e("option",{value:"0",disabled:"",default:""},"Wybierz",-1),W=e("option",{value:"1"},"Software",-1),B=e("option",{value:"2"},"Hardware",-1),M=e("option",{value:"3"},"Malware",-1),N=[U,W,B,M],O=e("label",{class:"txtarea-description"},"Opis:",-1),C=["placeholder"],D=e("div",{class:"create-ticket__form-button"},[e("button",null,[e("p",null,"Stwórz")])],-1),H=h('<div class="create-ticket__text"><p>Witaj! Tutaj możesz zgłosić nowe problemy lub zapytania poprzez wypełnienie poniższego formularza. Upewnij się, że podajesz szczegółowe informacje, które pomogą nam szybko i skutecznie zareagować na Twoje zgłoszenie.</p><ul><li><strong>Tytuł zgłoszenia: </strong>Proszę podać krótki, zwięzły tytuł dla zgłaszanego problemu lub pytania.</li><li><strong>Priorytet: </strong>Wybierz stopień pilności zgłoszenia: niski, średni lub wysoki.</li><li><strong>Rodzaj zgłoszenia: </strong>Określ rodzaj zgłaszanego problemu lub zapytania.</li><li><strong>Opis: </strong>Proszę opisz dokładnie swój problem lub pytanie, zawierając wszystkie istotne szczegóły.</li></ul></div>',1);function R(r,t,A,q,i,n){return k(),u("div",w,[e("p",{class:"create-ticket__error",ref:"createTicketError"},_(i.response),513),e("form",{class:"create-ticket__form",onSubmit:t[4]||(t[4]=z((...o)=>n.createTicket&&n.createTicket(...o),["prevent"]))},[m,e("label",g,[f,a(),s(e("input",{class:"create-ticket__form-title",type:"text",id:"title",placeholder:i.titlePlaceholder,"onUpdate:modelValue":t[0]||(t[0]=o=>i.newTicket.title=o)},null,8,b),[[c,i.newTicket.title]])]),e("div",v,[e("label",null,[a("Priorytet: "),s(e("select",{name:"type",id:"type","onUpdate:modelValue":t[1]||(t[1]=o=>i.newTicket.priorityId=o)},E,512),[[l,i.newTicket.priorityId]])])]),e("div",V,[P,s(e("select",{name:"type",id:"type","onUpdate:modelValue":t[2]||(t[2]=o=>i.newTicket.ticketTypeId=o)},N,512),[[l,i.newTicket.ticketTypeId]])]),O,s(e("textarea",{type:"text",id:"description",placeholder:i.textPlaceholder,"onUpdate:modelValue":t[3]||(t[3]=o=>i.newTicket.description=o)},null,8,C),[[c,i.newTicket.description]]),D],32),H,e("p",{class:y(["create-ticket__created-info",{created:i.ticketSentVar}])},"Utworzono zgłoszenie",2)])}const G=d(T,[["render",R]]);export{G as default};

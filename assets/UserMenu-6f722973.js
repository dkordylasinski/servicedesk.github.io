import{_ as d,a as m,r as h,o as s,c as i,b as l,e as p,f as g,t as n,j as u,l as t,g as w}from"./index-fbe45917.js";const x={data(){return{maxValue:"",maxAdminValue:"",data:"",isAdmin:""}},mounted(){this.getTickets()},methods:{async getTickets(){const o=localStorage.getItem("jwtToken");if(!o)return;JSON.parse(atob(o.split(".")[1]))["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"]=="Administrator"&&(this.isAdmin=!0);try{const r=await m.get("https://servicedeskinz2023.azurewebsites.net/api/tickets/TicketStats",{headers:{Authorization:"Bearer "+o}}).then(a=>{this.maxValue=a.data.ticketsCount,this.maxAdminValue=a.data.ticketsCount,this.data=a.data})}catch(r){console.log(r)}}}},C={class:"user-page"},k={class:"user-page__link"},z=l("h1",{class:"user-page__title"},"Statystyki zgłoszeń",-1),y={key:0,class:"user-page__list"},v=l("strong",null,"Ilość zgloszen: ",-1),f=l("strong",null,"Nowe: ",-1),V=l("strong",null,"W realizacji: ",-1),A=l("strong",null,"Oczekujące: ",-1),S=l("strong",null,"Zamknięte: ",-1),T=l("strong",null,"Software: ",-1),I=l("strong",null,"Malware: ",-1),N=l("strong",null,"Hardware: ",-1),j={key:1,class:"user-page__diagram"},M={class:"user-page__diagram-box"},b=l("p",null,"Ilość zgloszen",-1),B=l("p",null,"Nowe",-1),H=l("p",null,"W realizacji",-1),R=l("p",null,"Oczekujące",-1),O=l("p",null,"Zamknięte",-1),W=l("p",null,"Software",-1),E=l("p",null,"Malware",-1),P=l("p",null,"Hardware",-1),U={key:2,class:"user-page__list"},Z={class:"admin-list"},D=l("strong",null,"Wszystkie zgłoszenia: ",-1),J=l("strong",null,"Rozwiązane w czasie: ",-1),q=l("strong",null,"Rozwiązane po upływie czasu: ",-1),F={class:"admin-list-left"},G=l("strong",null,"Software: ",-1),K=l("strong",null,"Malware: ",-1),L=l("strong",null,"Hardware: ",-1),Q={key:3,class:"user-page__diagram"},X={class:"user-page__diagram-box"},Y=l("p",null,"Ilość zgloszen",-1),$=l("p",null,"Rozwiązane w czasie",-1),ll=l("p",null,"Rozwiązane po upływie czasu",-1),el=l("p",null,"Software",-1),nl=l("p",null,"Malware",-1),tl=l("p",null,"Hardware",-1);function sl(o,_,r,a,e,il){const c=h("router-link");return s(),i("div",C,[l("div",k,[z,p(c,{to:"/user"},{default:g(()=>[w(" Edytuj swoje dane ")]),_:1})]),e.isAdmin?u("",!0):(s(),i("div",y,[l("ul",null,[l("li",null,[v,l("p",null,n(e.data.ticketsCount),1)]),l("li",null,[f,l("p",null,n(e.data.newCount),1)]),l("li",null,[V,l("p",null,n(e.data.realizationCount),1)]),l("li",null,[A,l("p",null,n(e.data.watingCount),1)]),l("li",null,[S,l("p",null,n(e.data.closedCount),1)]),l("li",null,[T,l("p",null,n(e.data.softwareCount),1)]),l("li",null,[I,l("p",null,n(e.data.malwareCount),1)]),l("li",null,[N,l("p",null,n(e.data.hardwareCount),1)])])])),e.isAdmin?u("",!0):(s(),i("div",j,[l("div",M,[l("ul",null,[l("li",null,[l("em",null,n(e.data.ticketsCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.ticketsCount/e.maxValue*250+"px"})},null,4),b]),l("li",null,[l("em",null,n(e.data.newCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.newCount/e.maxValue*250+"px"})},null,4),B]),l("li",null,[l("em",null,n(e.data.realizationCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.realizationCount/e.maxValue*250+"px"})},null,4),H]),l("li",null,[l("em",null,n(e.data.watingCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.watingCount/e.maxValue*250+"px"})},null,4),R]),l("li",null,[l("em",null,n(e.data.closedCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.closedCount/e.maxValue*250+"px"})},null,4),O]),l("li",null,[l("em",null,n(e.data.softwareCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.softwareCount/e.maxValue*250+"px"})},null,4),W]),l("li",null,[l("em",null,n(e.data.malwareCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.malwareCount/e.maxValue*250+"px"})},null,4),E]),l("li",null,[l("em",null,n(e.data.hardwareCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.hardwareCount/e.maxValue*250+"px"})},null,4),P])])])])),e.isAdmin?(s(),i("div",U,[l("ul",Z,[l("li",null,[D,l("p",null,n(e.data.ticketsCount),1)]),l("li",null,[J,l("p",null,n(e.data.ticketsSolvedInTime),1)]),l("li",null,[q,l("p",null,n(e.data.ticketsSolvedNotInTime),1)])]),l("ul",F,[l("li",null,[G,l("p",null,n(e.data.softwareCount),1)]),l("li",null,[K,l("p",null,n(e.data.malwareCount),1)]),l("li",null,[L,l("p",null,n(e.data.hardwareCount),1)])])])):u("",!0),e.isAdmin?(s(),i("div",Q,[l("div",X,[l("ul",null,[l("li",null,[l("em",null,n(e.data.ticketsCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.ticketsCount/e.maxAdminValue*250+"px"})},null,4),Y]),l("li",null,[l("em",null,n(e.data.ticketsSolvedInTime),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.ticketsSolvedInTime/e.maxAdminValue*250+"px"})},null,4),$]),l("li",null,[l("em",null,n(e.data.ticketsSolvedNotInTime),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.ticketsSolvedNotInTime/e.maxAdminValue*250+"px"})},null,4),ll]),l("li",null,[l("em",null,n(e.data.softwareCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.softwareCount/e.maxAdminValue*250+"px"})},null,4),el]),l("li",null,[l("em",null,n(e.data.malwareCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.malwareCount/e.maxAdminValue*250+"px"})},null,4),nl]),l("li",null,[l("em",null,n(e.data.hardwareCount),1),l("div",{class:"user-page__diagram-line",style:t({height:e.data.hardwareCount/e.maxAdminValue*250+"px"})},null,4),tl])])])])):u("",!0)])}const al=d(x,[["render",sl]]);export{al as default};

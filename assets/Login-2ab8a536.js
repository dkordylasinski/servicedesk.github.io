import{_ as g,a as u,r as d,o as m,c as f,b as r,t as p,w as _,d as i,v as l,e as h,f as w,g as C}from"./index-fbe45917.js";const c={data(){return{newUser:{Email:"",Password:""},response:""}},mounted(){localStorage.getItem("confirmMail")&&(this.loginError("Potwierdz maila",!0),localStorage.removeItem("confirmMail"))},methods:{async loginUser(){try{const n=await u.post("https://servicedeskinz2023.azurewebsites.net/api/account/login",this.newUser).then(s=>{localStorage.setItem("jwtToken",s.data),window.location.href="/"});this.response.Email="",this.response.Password="",console.log("zalogowano")}catch(n){this.loginError(n.response.data,!1)}},inputsChange(n){n.target.previousSibling.classList.add("filled")},inputsChangeBlur(n){n.target.value.length<=0&&n.target.previousSibling.classList.remove("filled")},loginError(n,s){this.response=n,s?this.$refs.loginError.style.backgroundColor="#54ECC4":this.$refs.loginError.style.backgroundColor="#DE3163",this.$refs.loginError.style.top="140px",this.$refs.loginError.style.opacity=1,setTimeout(()=>{this.$refs.loginError.style.top="-50px",this.$refs.loginError.style.opacity=0},3e3)}}},v={class:"login-form"},E={class:"login-form__wrapper"},y=r("h1",{class:"login-form__title"},"Login",-1),b={class:"login-form__form-row-box"},x={class:"login-form__form-row"},U=r("label",{for:"Email",class:"login-form__form-row-label"},"E-mail:",-1),k={class:"login-form__form-row"},B=r("label",{for:"Password",class:"login-form__form-row-label"},"Hasło:",-1),P={class:"login-form__form-button"},S=r("button",null,[r("p",null,"Zaloguj się")],-1);function L(n,s,V,z,t,o){const a=d("router-link");return m(),f("div",null,[r("p",{class:"login-form__error",ref:"loginError"},p(t.response),513),r("div",v,[r("div",E,[y,r("form",{onSubmit:s[10]||(s[10]=_((...e)=>o.loginUser&&o.loginUser(...e),["prevent"])),class:"login-form__form"},[r("div",b,[r("div",x,[U,i(r("input",{type:"text",id:"Email","onUpdate:modelValue":s[0]||(s[0]=e=>t.newUser.Email=e),required:"",onFocus:s[1]||(s[1]=(...e)=>o.inputsChange&&o.inputsChange(...e)),onBlur:s[2]||(s[2]=(...e)=>o.inputsChangeBlur&&o.inputsChangeBlur(...e)),onClick:s[3]||(s[3]=(...e)=>o.inputsChange&&o.inputsChange(...e)),onChange:s[4]||(s[4]=(...e)=>o.inputsChange&&o.inputsChange(...e))},null,544),[[l,t.newUser.Email]])]),r("div",k,[B,i(r("input",{type:"password",id:"Password","onUpdate:modelValue":s[5]||(s[5]=e=>t.newUser.Password=e),required:"",onFocus:s[6]||(s[6]=(...e)=>o.inputsChange&&o.inputsChange(...e)),onBlur:s[7]||(s[7]=(...e)=>o.inputsChangeBlur&&o.inputsChangeBlur(...e)),onClick:s[8]||(s[8]=(...e)=>o.inputsChange&&o.inputsChange(...e)),onChange:s[9]||(s[9]=(...e)=>o.inputsChange&&o.inputsChange(...e))},null,544),[[l,t.newUser.Password]])])]),r("div",P,[h(a,{to:"/resetpassword"},{default:w(()=>[C(" Zapomniałem hasła. ")]),_:1}),S])],32)])])])}const T=g(c,[["render",L]]);export{T as default};
